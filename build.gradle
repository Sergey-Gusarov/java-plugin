buildscript {
    apply from: 'project.gradle', to: buildscript
}
apply plugin: 'yamoney-gradle-project-plugin'
apply plugin: 'yamoney-kotlin-module-plugin'

pluginId = 'yamoney-java-module-plugin'
gradlePlugin {
    plugins {
        javaModulePlugin {
            id = 'yamoney-java-module-plugin'
            implementationClass = 'ru.yandex.money.gradle.plugins.backend.build.JavaModulePlugin'
        }
        kotlinModulePlugin {
            id = 'yamoney-kotlin-module-plugin'
            implementationClass = 'ru.yandex.money.gradle.plugins.backend.kotlin.KotlinModulePlugin'
        }
    }
}

dependencies {

    optional 'com.github.spotbugs:spotbugs-annotations:3.1.12'

    compile localGroovy(),
            'org.eclipse.jgit:org.eclipse.jgit:5.3.0.201903130848-r',
            'org.jetbrains.kotlin:kotlin-gradle-plugin:1.2.61',
            'ru.yandex.money.gradle.plugins:yamoney-check-dependencies-plugin:4.4.5',
            'gradle.plugin.com.github.spotbugs:spotbugs-gradle-plugin:1.6.9',
            'io.gitlab.arturbosch.detekt:detekt-gradle-plugin:1.0.0.RC9.2',
            'org.jlleitschuh.gradle:ktlint-gradle:8.0.0',
            'commons-io:commons-io:2.6'

    testCompile 'org.amshove.kluent:kluent:1.34'

    testImplementation gradleTestKit(),
            'com.netflix.nebula:nebula-test:7.2.1',
            'ru.yandex.money.common:yamoney-test-utils:22.3.0',
            'org.mockito:mockito-core:2.23.0',
            'org.testng:testng:6.14.3'
}